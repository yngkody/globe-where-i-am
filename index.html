<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="1561.61">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}
  </style>
</head>
<body>
<p class="p1">&lt;!DOCTYPE html&gt;</p>
<p class="p1">&lt;html lang="en"&gt;</p>
<p class="p1">&lt;head&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;meta charset="UTF-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;title&gt;Spinning Cesium Globe&lt;/title&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;script src="https://cesium.com/downloads/cesiumjs/releases/1.124/Build/Cesium/Cesium.js"&gt;&lt;/script&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;link href="https://cesium.com/downloads/cesiumjs/releases/1.124/Build/Cesium/Widgets/widgets.css" rel="stylesheet"&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;style&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>html, body, #cesiumContainer { width: 100%; height: 100%; margin: 0; padding: 0; overflow: hidden; }</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;/style&gt;</p>
<p class="p1">&lt;/head&gt;</p>
<p class="p1">&lt;body&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;div id="cesiumContainer"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;script&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>const viewer = new Cesium.Viewer('cesiumContainer', {</p>
<p class="p1"><span class="Apple-converted-space">      </span>terrainProvider: Cesium.createWorldTerrain(),</p>
<p class="p1"><span class="Apple-converted-space">      </span>timeline: false,</p>
<p class="p1"><span class="Apple-converted-space">      </span>animation: false</p>
<p class="p1"><span class="Apple-converted-space">    </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>// Locations to pin</p>
<p class="p1"><span class="Apple-converted-space">    </span>const locations = [</p>
<p class="p1"><span class="Apple-converted-space">      </span>{ name: 'Gulfport, MS', lat: 30.3674, lng: -89.0928 },</p>
<p class="p1"><span class="Apple-converted-space">      </span>{ name: 'Long Beach, MS', lat: 30.3670, lng: -89.1036 },</p>
<p class="p1"><span class="Apple-converted-space">      </span>{ name: 'New Orleans, LA', lat: 29.9511, lng: -90.0715 },</p>
<p class="p1"><span class="Apple-converted-space">      </span>{ name: 'New York, NY', lat: 40.7128, lng: -74.0060 }</p>
<p class="p1"><span class="Apple-converted-space">    </span>];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>const pins = [];</p>
<p class="p1"><span class="Apple-converted-space">    </span>locations.forEach(loc =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">      </span>const entity = viewer.entities.add({</p>
<p class="p1"><span class="Apple-converted-space">        </span>name: loc.name,</p>
<p class="p1"><span class="Apple-converted-space">        </span>position: Cesium.Cartesian3.fromDegrees(loc.lng, loc.lat),</p>
<p class="p1"><span class="Apple-converted-space">        </span>billboard: {</p>
<p class="p1"><span class="Apple-converted-space">          </span>image: 'https://cdn-icons-png.flaticon.com/512/684/684908.png',</p>
<p class="p1"><span class="Apple-converted-space">          </span>verticalOrigin: Cesium.VerticalOrigin.BOTTOM,</p>
<p class="p1"><span class="Apple-converted-space">          </span>scale: 0.05</p>
<p class="p1"><span class="Apple-converted-space">        </span>},</p>
<p class="p1"><span class="Apple-converted-space">        </span>label: {</p>
<p class="p1"><span class="Apple-converted-space">          </span>text: loc.name,</p>
<p class="p1"><span class="Apple-converted-space">          </span>font: '14px sans-serif',</p>
<p class="p1"><span class="Apple-converted-space">          </span>style: Cesium.LabelStyle.FILL_AND_OUTLINE,</p>
<p class="p1"><span class="Apple-converted-space">          </span>outlineWidth: 2,</p>
<p class="p1"><span class="Apple-converted-space">          </span>verticalOrigin: Cesium.VerticalOrigin.TOP,</p>
<p class="p1"><span class="Apple-converted-space">          </span>pixelOffset: new Cesium.Cartesian2(0, -30),</p>
<p class="p1"><span class="Apple-converted-space">          </span>show: false // hide initially</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">      </span>});</p>
<p class="p1"><span class="Apple-converted-space">      </span>pins.push(entity);</p>
<p class="p1"><span class="Apple-converted-space">    </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>// Spin variables</p>
<p class="p1"><span class="Apple-converted-space">    </span>let lastTime = Date.now();</p>
<p class="p1"><span class="Apple-converted-space">    </span>const spinRate = 0.01; // radians per second</p>
<p class="p1"><span class="Apple-converted-space">    </span>let highlightIndex = 0;</p>
<p class="p1"><span class="Apple-converted-space">    </span>const highlightDelay = 4000; // milliseconds</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>// Animate function</p>
<p class="p1"><span class="Apple-converted-space">    </span>viewer.scene.preRender.addEventListener(function(scene, time) {</p>
<p class="p1"><span class="Apple-converted-space">      </span>const now = Date.now();</p>
<p class="p1"><span class="Apple-converted-space">      </span>const delta = (now - lastTime) / 1000;</p>
<p class="p1"><span class="Apple-converted-space">      </span>lastTime = now;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">      </span>// Rotate globe around Y-axis</p>
<p class="p1"><span class="Apple-converted-space">      </span>const camera = viewer.camera;</p>
<p class="p1"><span class="Apple-converted-space">      </span>camera.rotate(Cesium.Cartesian3.UNIT_Z, spinRate * delta);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">      </span>// Highlight pins every few seconds</p>
<p class="p1"><span class="Apple-converted-space">      </span>if (now % highlightDelay &lt; 50) {<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>pins.forEach((pin, i) =&gt; pin.label.show = (i === highlightIndex));</p>
<p class="p1"><span class="Apple-converted-space">        </span>highlightIndex = (highlightIndex + 1) % pins.length;</p>
<p class="p1"><span class="Apple-converted-space">      </span>}</p>
<p class="p1"><span class="Apple-converted-space">    </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>// Initial fly to first location</p>
<p class="p1"><span class="Apple-converted-space">    </span>viewer.camera.flyTo({</p>
<p class="p1"><span class="Apple-converted-space">      </span>destination: Cesium.Cartesian3.fromDegrees(-89.0928, 30.3674, 500000)</p>
<p class="p1"><span class="Apple-converted-space">    </span>});</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;/script&gt;</p>
<p class="p1">&lt;/body&gt;</p>
<p class="p1">&lt;/html&gt;</p>
</body>
</html>
